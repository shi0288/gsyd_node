var ctrl = require("mcp_control");
var config = require("mcp_config");
var adminCtl = ctrl.adminCtl;
var ec = config.ec;

var CmdFactory = function(){};

CmdFactory.prototype.handle = function(headNode, bodyStr, cb)
{
    var cmdGroup = headNode.cmd.match(/^([A-Z]+)([0-9]{1,})$/);
    if(cmdGroup[1] == "AD")
    {
        adminCtl.handle(headNode, bodyStr, cb);
    }
    else
    {
        cb(ec.E2010);
    }
};

var cmdFactory = new CmdFactory();
module.exports = cmdFactory;